=start
Q_RAMP_RATE_UP0_BP(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - LAST_GEN_SCHEDULE(RAMP_LIMITED_GEN) =L= (60*INTERVAL_UPDATE*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE") + RAMP_SLACK_UP(RAMP_LIMITED_GEN))
         *(UNIT_STATUS(RAMP_LIMITED_GEN,INTERVAL) - PREVIOUS_UNIT_STARTUP(RAMP_LIMITED_GEN) - UNIT_STARTUP(RAMP_LIMITED_GEN,INTERVAL))
         + (PREVIOUS_UNIT_STARTUP(RAMP_LIMITED_GEN) + UNIT_STARTUP(RAMP_LIMITED_GEN,INTERVAL))*((GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")*
         MIN(1,INTERVAL_UPDATE/GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME"))
         + MAX(0,INTERVAL_UPDATE - GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME"))*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")))
         + GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_BP")           + RAMP_UP_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
;
=end
=start
Q_RAMP_RATE_DOWN0_BP(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - LAST_GEN_SCHEDULE(RAMP_LIMITED_GEN)  =G= (-60*INTERVAL_UPDATE*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
         - RAMP_SLACK_DOWN(RAMP_LIMITED_GEN) )*(LAST_STATUS(RAMP_LIMITED_GEN)
         - SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H)))
         - (SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H))*
                 (GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")*MIN(1,INTERVAL_UPDATE/GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME"))
                 + MAX(0,INTERVAL_UPDATE - GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME"))*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")*60
                 )
           )
         - GEN_FORCED_OUT(RAMP_LIMITED_GEN)*GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")
         - GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_BP")
          - RAMP_DOWN_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
;
=end
=start
Q_RAMP_RATE_UP0_ACTUAL(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - ACTUAL_GEN_OUTPUT(RAMP_LIMITED_GEN) =L= 60*(PROCESS_TIME+INTERVAL_LENGTH)*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
         *(UNIT_STATUS(RAMP_LIMITED_GEN,INTERVAL) - PREVIOUS_UNIT_STARTUP(RAMP_LIMITED_GEN) - UNIT_STARTUP(RAMP_LIMITED_GEN,INTERVAL))
         + (PREVIOUS_UNIT_STARTUP(RAMP_LIMITED_GEN) + UNIT_STARTUP(RAMP_LIMITED_GEN,INTERVAL))*
                 (GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")*MIN(1,(PROCESS_TIME+INTERVAL_LENGTH)/GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME"))
                 +(MAX(0,(PROCESS_TIME+INTERVAL_LENGTH)-GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME"))*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE"))
                 )
         + GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_ACTUAL")   + RAMP_UP_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
;
=end
=start
Q_RAMP_RATE_DOWN0_ACTUAL(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - ACTUAL_GEN_OUTPUT(RAMP_LIMITED_GEN) =G= -60*(PROCESS_TIME+INTERVAL_LENGTH)*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")*
         (LAST_STATUS_ACTUAL(RAMP_LIMITED_GEN) - LAST_SHUTDOWN(RAMP_LIMITED_GEN) - SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H)))
         - (SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H))+ LAST_SHUTDOWN(RAMP_LIMITED_GEN))*
                 (GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")*MIN(1,(PROCESS_TIME+INTERVAL_LENGTH)/GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME"))
                 + MAX(0,(PROCESS_TIME+INTERVAL_LENGTH) - GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME"))*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")*60
                 )
         - (SUM(H$(ORD(H) EQ (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H)))*
                 (GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")*MIN(1,(INTERVAL_LENGTH)/GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME")) + PROCESS_TIME*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
                 )
          - GEN_FORCED_OUT(RAMP_LIMITED_GEN)*GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")
         - GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_ACTUAL")
         - RAMP_DOWN_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
;
=end
=start
Q_SU_INTERVAL1(GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
UNIT_STARTUP(GEN,INTERVAL) - UNIT_SHUTDOWN(GEN,INTERVAL) =E= UNIT_STATUS(GEN,INTERVAL) - LAST_STATUS(GEN)
;
=end
=start
Q_RAMP_RATE_UP_BASIC0(RAMP_LIMITED_GEN_NOSTARTUP,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN_NOSTARTUP,INTERVAL) - LAST_GEN_SCHEDULE(RAMP_LIMITED_GEN_NOSTARTUP)
         =L= GENVALUE(RAMP_LIMITED_GEN_NOSTARTUP,"RAMP_RATE")*60*INTERVAL_LENGTH*UNIT_STATUS(RAMP_LIMITED_GEN_NOSTARTUP,INTERVAL) + RAMP_UP_PENALTY(RAMP_LIMITED_GEN_NOSTARTUP,INTERVAL)
;
=end
=start
Q_RAMP_RATE_DOWN_BASIC0(RAMP_LIMITED_GEN_NOSTARTUP,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN_NOSTARTUP,INTERVAL) - LAST_GEN_SCHEDULE(RAMP_LIMITED_GEN_NOSTARTUP)
         =G= -1*GENVALUE(RAMP_LIMITED_GEN_NOSTARTUP,"RAMP_RATE")*60*INTERVAL_LENGTH*UNIT_STATUS(RAMP_LIMITED_GEN_NOSTARTUP,INTERVAL-1) - RAMP_DOWN_PENALTY(RAMP_LIMITED_GEN_NOSTARTUP,INTERVAL)
;
=end