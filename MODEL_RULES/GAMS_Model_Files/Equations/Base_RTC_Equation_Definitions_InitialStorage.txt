=start
Q_PUMP_RAMP_RATE_UP0_BP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
CONVENTIONAL_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL) - LAST_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) =L=
         (INTERVAL_UPDATE*60*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_RAMP_RATE") + RAMP_SLACK_UP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN))
         *(PUMPING(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL) - PREVIOUS_UNIT_PUMPUP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) - UNIT_PUMPUP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL))
         + (PREVIOUS_UNIT_PUMPUP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) + UNIT_PUMPUP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL))*
                 (STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MIN_PUMP")*MIN(1,INTERVAL_UPDATE/STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_STARTUP_TIME"))
                 + MAX(0,INTERVAL_UPDATE - STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_STARTUP_TIME"))*60*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_RAMP_RATE")
                 )
         + STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MAX_PUMP")*INITIAL_DISPATCH_SLACK("IGNORE_BP")              + RAMP_UP_PENALTY(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL)
;
=end
=start
Q_PUMP_RAMP_RATE_DOWN0_BP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
CONVENTIONAL_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL) - LAST_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) =G=
         (-1*INTERVAL_UPDATE*60*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_RAMP_RATE") - RAMP_SLACK_DOWN(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN)
          )*
                 (LAST_PUMPSTATUS(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) - SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + PUMPDOWN_PERIOD(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN))),UNIT_PUMPDOWN(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,H))
                 )
         - (SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + PUMPDOWN_PERIOD(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN)-1)),UNIT_PUMPDOWN(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,H))*
                 (STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MIN_PUMP")*MIN(1,INTERVAL_UPDATE/STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_SHUTDOWN_TIME"))
                 + MAX(0,INTERVAL_UPDATE - STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_SHUTDOWN_TIME"))*60*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_RAMP_RATE")
                 )
            )
         - GEN_FORCED_OUT(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN)*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MAX_PUMP")
         - STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MAX_PUMP")*INITIAL_DISPATCH_SLACK("IGNORE_BP")
         - RAMP_DOWN_PENALTY(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL)
;
=end
=start
Q_PUMP_RAMP_RATE_UP0_ACTUAL(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
CONVENTIONAL_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL) - ACTUAL_PUMP_OUTPUT(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) =L= (PROCESS_TIME+INTERVAL_LENGTH)*60*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_RAMP_RATE")*
         (PUMPING(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL) - PREVIOUS_UNIT_PUMPUP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) - UNIT_PUMPUP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL))
         + (PREVIOUS_UNIT_PUMPUP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) + UNIT_PUMPUP(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL))*
                 (STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MIN_PUMP")*MIN(1,(PROCESS_TIME+INTERVAL_LENGTH)/STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_STARTUP_TIME"))
                 + MAX(0,(PROCESS_TIME+INTERVAL_LENGTH) - STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_STARTUP_TIME"))*60*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_RAMP_RATE")
                 )
         + STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MAX_PUMP")*INITIAL_DISPATCH_SLACK("IGNORE_ACTUAL")   + RAMP_UP_PENALTY(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL)
;
=end
=start
Q_PUMP_RAMP_RATE_DOWN0_ACTUAL(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
CONVENTIONAL_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL) - ACTUAL_PUMP_OUTPUT(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) =G= -1*(PROCESS_TIME+INTERVAL_LENGTH)*60*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_RAMP_RATE")
         *(LAST_PUMPSTATUS_ACTUAL(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN) - SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + PUMPDOWN_PERIOD(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN))),UNIT_PUMPDOWN(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,H)))
         - (SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + PUMPDOWN_PERIOD(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN)-1)),UNIT_PUMPDOWN(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,H)))*
                 (STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MIN_PUMP")*MIN(1,(PROCESS_TIME+INTERVAL_LENGTH)/STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_SHUTDOWN_TIME"))
                 + MAX(0,(PROCESS_TIME+INTERVAL_LENGTH) - STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_SHUTDOWN_TIME"))*60*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"PUMP_RAMP_RATE")
                 )
          - GEN_FORCED_OUT(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN)*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MAX_PUMP")
         - STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,"MAX_PUMP")*INITIAL_DISPATCH_SLACK("IGNORE_ACTUAL")
         - RAMP_DOWN_PENALTY(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN,INTERVAL)
;
=end
=start
Q_PUMPUP2(CONVENTIONAL_STORAGE_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
UNIT_PUMPUP(CONVENTIONAL_STORAGE_GEN,INTERVAL) - UNIT_PUMPDOWN(CONVENTIONAL_STORAGE_GEN,INTERVAL)
         =E= PUMPING(CONVENTIONAL_STORAGE_GEN,INTERVAL) - LAST_PUMPSTATUS(CONVENTIONAL_STORAGE_GEN)
;
=end