=start
Q_PUMPMAXLIMIT(STORAGE_GEN,INTERVAL)..
CONVENTIONAL_PUMP_SCHEDULE(STORAGE_GEN,INTERVAL) =L= STORAGEVALUE(STORAGE_GEN,"MAX_PUMP")*PUMPING(STORAGE_GEN,INTERVAL)
;
=end
=start
Q_PUMPMINLIMIT(MIN_GEN_CONVENTIONAL_STORAGE_GEN,INTERVAL)..
CONVENTIONAL_PUMP_SCHEDULE(MIN_GEN_CONVENTIONAL_STORAGE_GEN,INTERVAL) =G= STORAGEVALUE(MIN_GEN_CONVENTIONAL_STORAGE_GEN,"MIN_PUMP")*PUMPING(MIN_GEN_CONVENTIONAL_STORAGE_GEN,INTERVAL)
;
=end
=start
Q_PUMPMINLIMIT2(MIN_GEN_CONVENTIONAL_STORAGE_GEN,INTERVAL)..
CONVENTIONAL_PUMP_SCHEDULE(MIN_GEN_CONVENTIONAL_STORAGE_GEN,INTERVAL) -
         SUM(RESERVETYPE$(RESERVEVALUE(RESERVETYPE,"RESERVE_ON")EQ 1 AND (RESERVEVALUE(RESERVETYPE,"RESERVE_DIR") EQ 1 OR RESERVEVALUE(RESERVETYPE,"RESERVE_DIR") EQ 3)),
         GEN_RESERVE_SCHEDULE(MIN_GEN_CONVENTIONAL_STORAGE_GEN,INTERVAL,RESERVETYPE)) =G=         0
         + PUMPING(MIN_GEN_CONVENTIONAL_STORAGE_GEN,INTERVAL)*STORAGEVALUE(MIN_GEN_CONVENTIONAL_STORAGE_GEN,"MIN_PUMP")
         - UNIT_STATUS(MIN_GEN_CONVENTIONAL_STORAGE_GEN,INTERVAL)*GENVALUE(MIN_GEN_CONVENTIONAL_STORAGE_GEN,"CAPACITY")
;
=end
=start
Q_PUMPMAXLIMIT2(STORAGE_GEN,INTERVAL)..
CONVENTIONAL_PUMP_SCHEDULE(STORAGE_GEN,INTERVAL) +
         SUM(RESERVETYPE$(RESERVEVALUE(RESERVETYPE,"RESERVE_ON")EQ 1 AND (RESERVEVALUE(RESERVETYPE,"RESERVE_DIR") EQ 2 OR RESERVEVALUE(RESERVETYPE,"RESERVE_DIR") EQ 3)),
         GEN_RESERVE_SCHEDULE(STORAGE_GEN,INTERVAL,RESERVETYPE))  =L=
         STORAGEVALUE(STORAGE_GEN,"MAX_PUMP")*PUMPING(STORAGE_GEN,INTERVAL) + UNIT_STATUS(STORAGE_GEN,INTERVAL)*GENVALUE(STORAGE_GEN,"CAPACITY")
;
=end
=start

Q_PUMP_RAMP_RATE_UP_BASIC(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL)$(ORD(INTERVAL) GT 1)..
CONVENTIONAL_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL) - CONVENTIONAL_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL-1)
         =L= STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,"PUMP_RAMP_RATE")*INTERVAL_MINUTES(INTERVAL)*PUMPING(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL) + RAMP_UP_PENALTY(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL)

;
=end
=start
Q_PUMP_RAMP_RATE_DOWN_BASIC(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL)$(ORD(INTERVAL) GT 1)..
CONVENTIONAL_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL) - CONVENTIONAL_PUMP_SCHEDULE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL-1)
         =G= -1*STORAGEVALUE(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,"PUMP_RAMP_RATE")*INTERVAL_MINUTES(INTERVAL)*PUMPING(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL-1) - RAMP_DOWN_PENALTY(RAMP_LIMITED_CONVENTIONAL_STORAGE_GEN_NOSTARTUP,INTERVAL)
;
=end
