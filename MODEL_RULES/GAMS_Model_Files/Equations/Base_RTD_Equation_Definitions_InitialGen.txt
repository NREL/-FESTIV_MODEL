=start
Q_RAMP_RATE_UP0_BP(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - LAST_GEN_SCHEDULE(RAMP_LIMITED_GEN) =L= (INTERVAL_UPDATE*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE") + RAMP_SLACK_UP(RAMP_LIMITED_GEN))*
         (UNIT_STATUS(RAMP_LIMITED_GEN,INTERVAL) - UNIT_STARTINGUP(RAMP_LIMITED_GEN,INTERVAL))
         + (UNIT_STARTINGUP(RAMP_LIMITED_GEN,INTERVAL)*
                 (GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")*MIN(1,INTERVAL_UPDATE/GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME"))
                 + MAX(0,INTERVAL_UPDATE - GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME"))*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
                 )
           )
         + GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_BP") + RAMP_UP_PENALTY(RAMP_LIMITED_GEN,INTERVAL) 
;
=end

=start
Q_RAMP_RATE_DOWN0_BP(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - LAST_GEN_SCHEDULE(RAMP_LIMITED_GEN) =G= (-1*INTERVAL_UPDATE*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
         - RAMP_SLACK_DOWN(RAMP_LIMITED_GEN) )*(MAX(0,LAST_STATUS(RAMP_LIMITED_GEN) - UNIT_SHUTTINGDOWN(RAMP_LIMITED_GEN,INTERVAL)))
         - UNIT_SHUTTINGDOWN(RAMP_LIMITED_GEN,INTERVAL)*
                 (MIN(1,(INTERVAL_UPDATE/GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME")))*GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")
                 + MAX(0,INTERVAL_UPDATE - GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME"))*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
                 )
         - GEN_FORCED_OUT(RAMP_LIMITED_GEN)*GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")
         - GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_BP")
         - RAMP_DOWN_PENALTY(RAMP_LIMITED_GEN,INTERVAL)*UNIT_SHUTTINGDOWN(RAMP_LIMITED_GEN,INTERVAL)
;
=end

=start
Q_RAMP_RATE_UP0_ACTUAL(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - ACTUAL_GEN_OUTPUT(RAMP_LIMITED_GEN) =L= (PROCESS_TIME+INTERVAL_LENGTH)*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")*
         (UNIT_STATUS(RAMP_LIMITED_GEN,INTERVAL) - (MIN(1,UNIT_STARTINGUP(RAMP_LIMITED_GEN,INTERVAL)+UNIT_STARTINGUP_ACTUAL(RAMP_LIMITED_GEN))))
          + (UNIT_STARTINGUP(RAMP_LIMITED_GEN,INTERVAL))*
                 (MIN(1,(PROCESS_TIME+INTERVAL_LENGTH)/GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME"))*GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")
            )
          + (MIN(1,UNIT_STARTINGUP(RAMP_LIMITED_GEN,INTERVAL)+UNIT_STARTINGUP_ACTUAL(RAMP_LIMITED_GEN))*
                 MAX(0,(PROCESS_TIME+INTERVAL_LENGTH) - GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME"))*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
            )
          + (MAX(0,UNIT_STARTINGUP_ACTUAL(RAMP_LIMITED_GEN)-UNIT_STARTINGUP(RAMP_LIMITED_GEN,INTERVAL))*
                 MIN(1,(60*PROCESS_TIME/GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME")))*GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")   + INTERVAL_LENGTH*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
            )
         + GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_ACTUAL")   + RAMP_UP_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
         - MIN(0,LAST_STATUS_ACTUAL(RAMP_LIMITED_GEN)-LAST_STATUS(RAMP_LIMITED_GEN))*GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN");
;
=end

=start
Q_RAMP_RATE_DOWN0_ACTUAL(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - ACTUAL_GEN_OUTPUT(RAMP_LIMITED_GEN) =G= -1*(INTERVAL_LENGTH)*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")*
                 (MAX(0,LAST_STATUS_ACTUAL(RAMP_LIMITED_GEN) - UNIT_SHUTTINGDOWN(RAMP_LIMITED_GEN,INTERVAL)))
         -1*(PROCESS_TIME)*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")*
                 (LAST_STATUS_ACTUAL(RAMP_LIMITED_GEN) - UNIT_SHUTTINGDOWN_ACTUAL(RAMP_LIMITED_GEN))
         - UNIT_SHUTTINGDOWN(RAMP_LIMITED_GEN,INTERVAL)*
                 ((MIN(1,(INTERVAL_LENGTH)/GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME")))*GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")
                  + (MAX(0,(INTERVAL_LENGTH)-GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME")))*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE"))
         - UNIT_SHUTTINGDOWN_ACTUAL(RAMP_LIMITED_GEN)*
                 ((MIN(1,(PROCESS_TIME)/GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME")))*GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")
                  + (MAX(0,(PROCESS_TIME)-GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME")))*60*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE"))
          - GEN_FORCED_OUT(RAMP_LIMITED_GEN)*GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")
          - GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_ACTUAL")
          - RAMP_DOWN_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
          - MAX(0,LAST_STATUS_ACTUAL(RAMP_LIMITED_GEN)-LAST_STATUS(RAMP_LIMITED_GEN))*GENVALUE(RAMP_LIMITED_GEN,"CAPACITY");
;
=end