=start
OBJECTIVE..
PRODCOST =E= SUM(INTERVAL, PRODCOST_BY_INTERVAL(INTERVAL))
         + SUM(STORAGE_GEN,-1*ENDING_STORAGE(STORAGE_GEN)*STORAGEVALUE(STORAGE_GEN,"RESERVOIR_VALUE")*SYSTEMVALUE("MVA_PERUNIT")+
         END_STORAGE_PENALTY_PLUS(STORAGE_GEN)*END_STORAGE_PENALTY_PLUS_PRICE(STORAGE_GEN)*SYSTEMVALUE("MVA_PERUNIT") + END_STORAGE_PENALTY_MINUS(STORAGE_GEN)*END_STORAGE_PENALTY_MINUS_PRICE(STORAGE_GEN)*SYSTEMVALUE("MVA_PERUNIT"))
;
=end
=start
OBJECTIVEB(INTERVAL)..
PRODCOST_BY_INTERVAL(INTERVAL) =E=
                         SUM(GEN,
                         SUM(GENBLOCK(GEN,BLOCK),BLOCK_COST(GEN,BLOCK)*GEN_BLOCK_SCHEDULE(GEN,BLOCK,INTERVAL)*INTERVAL_LENGTH*SYSTEMVALUE("MVA_PERUNIT"))
                         + UNIT_STATUS(GEN,INTERVAL)*INTERVAL_LENGTH*GENVALUE(GEN,"NO_LOAD_COST")
                         + STARTUP_COST(GEN,INTERVAL)
                         + SUM(RESERVETYPE,GEN_RESERVE_SCHEDULE(GEN,INTERVAL,RESERVETYPE)*RESERVE_COST(GEN,RESERVETYPE)*INTERVAL_LENGTH*SYSTEMVALUE("MVA_PERUNIT"))
                         + WASTED_STORAGE(GEN,INTERVAL)*SYSTEMVALUE("VOLL")*SYSTEMVALUE("MVA_PERUNIT")
                )
                 + LOSS_LOAD(INTERVAL)*SYSTEMVALUE("VOLL")*INTERVAL_LENGTH*SYSTEMVALUE("MVA_PERUNIT") + ADDITIONAL_LOAD_SLACK(INTERVAL)*SYSTEMVALUE("VOLL")*INTERVAL_LENGTH*SYSTEMVALUE("MVA_PERUNIT")
                 + SUM(RESERVETYPE,INSUFFICIENT_RESERVE(INTERVAL,RESERVETYPE)*RESERVEVALUE(RESERVETYPE,"VOIR")*INTERVAL_LENGTH*SYSTEMVALUE("MVA_PERUNIT"))
$IFI '%NETWORK_CHECK%' == YES                  + SUM(BRANCH, PHASE_SHIFTER_ANGLE1(BRANCH,INTERVAL)*.005 + PHASE_SHIFTER_ANGLE2(BRANCH,INTERVAL)*.005)
$IFI '%NETWORK_CHECK%' == YES                  + SUM(BRANCH,(BRANCH_SLACK1(BRANCH,INTERVAL)+BRANCH_SLACK2(BRANCH,INTERVAL))*SYSTEMVALUE("VOLL")*INTERVAL_LENGTH*SYSTEMVALUE("MVA_PERUNIT"))
                 + SUM(INTERFACE,INTERFACE_INFEASIBLE_UP(INTERFACE,INTERVAL)+INTERFACE_INFEASIBLE_DOWN(INTERFACE,INTERVAL))*SYSTEMVALUE("VOIE")*INTERVAL_LENGTH*SYSTEMVALUE("MVA_PERUNIT")
;
=end