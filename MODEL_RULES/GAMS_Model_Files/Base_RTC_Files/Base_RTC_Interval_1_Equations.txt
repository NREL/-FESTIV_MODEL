=start
Q_RAMP_RATE_UP0_BP(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - LAST_GEN_SCHEDULE(RAMP_LIMITED_GEN) =L= (RTCINTERVAL_UPDATE*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE") + RAMP_SLACK_UP(RAMP_LIMITED_GEN))
         *(UNIT_STATUS(RAMP_LIMITED_GEN,INTERVAL) - (INITIAL_STARTUP_PERIODS(RAMP_LIMITED_GEN) + UNIT_STARTUP(RAMP_LIMITED_GEN,INTERVAL) -
         SUM(H$( STARTUP_PERIOD(RAMP_LIMITED_GEN)- ORD(H) GE 1 AND ORD(H) LT 2),ORD(H)*LAST_STARTUP(RAMP_LIMITED_GEN))))
         + (INITIAL_STARTUP_PERIODS(RAMP_LIMITED_GEN) + UNIT_STARTUP(RAMP_LIMITED_GEN,INTERVAL) +
         SUM(H$( STARTUP_PERIOD(RAMP_LIMITED_GEN)- ORD(H) GE 1 AND ORD(H) LT 2),ORD(H)*LAST_STARTUP(RAMP_LIMITED_GEN)))*(GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")
         *MIN(1,RTCINTERVAL_UPDATE/(60*GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME")))
         + MAX(0,RTCINTERVAL_UPDATE - (60*GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME")))*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE"))
         + GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_BP")           + RAMP_UP_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
;
=end
=start
Q_RAMP_RATE_DOWN0_BP(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - LAST_GEN_SCHEDULE(RAMP_LIMITED_GEN)  =G= (-1*RTCINTERVAL_UPDATE*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
         - RAMP_SLACK_DOWN(RAMP_LIMITED_GEN) )*(LAST_STATUS(RAMP_LIMITED_GEN)
         - SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H)))
         - (SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H))
         *GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")*(RTCINTERVAL_UPDATE/(GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME")*60)))
         - GEN_FORCED_OUT(RAMP_LIMITED_GEN)*GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")
         - GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_BP")
          - RAMP_DOWN_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
;
=end
=start
Q_RAMP_RATE_UP0_ACTUAL(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - ACTUAL_GEN_OUTPUT(RAMP_LIMITED_GEN) =L= (RTC_PROCESS_TIME+RTCINTERVAL_LENGTH)*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
         *(UNIT_STATUS(RAMP_LIMITED_GEN,INTERVAL) - INITIAL_STARTUP_PERIODS(RAMP_LIMITED_GEN) - UNIT_STARTUP(RAMP_LIMITED_GEN,INTERVAL) - LAST_STARTUP(RAMP_LIMITED_GEN)) * (1 - UNIT_STARTUP_ACTUAL(RAMP_LIMITED_GEN))
         + GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN") * UNIT_STARTUP_ACTUAL(RAMP_LIMITED_GEN)
         + (INITIAL_STARTUP_PERIODS(RAMP_LIMITED_GEN) + UNIT_STARTUP(RAMP_LIMITED_GEN,INTERVAL) + LAST_STARTUP(RAMP_LIMITED_GEN))*(GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")
         *MIN(1,(RTC_PROCESS_TIME+RTCINTERVAL_LENGTH)/(60*GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME")))
         +(MAX(0,(RTC_PROCESS_TIME+RTCINTERVAL_LENGTH)-(60*GENVALUE(RAMP_LIMITED_GEN,"STARTUP_TIME")))*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")))
         + GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_ACTUAL")   + RAMP_UP_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
;
=end
=start
Q_RAMP_RATE_DOWN0_ACTUAL(RAMP_LIMITED_GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
GEN_SCHEDULE(RAMP_LIMITED_GEN,INTERVAL) - ACTUAL_GEN_OUTPUT(RAMP_LIMITED_GEN) =G= -1*(RTC_PROCESS_TIME+RTCINTERVAL_LENGTH)*GENVALUE(RAMP_LIMITED_GEN,"RAMP_RATE")
         *(LAST_STATUS_ACTUAL(RAMP_LIMITED_GEN) - LAST_SHUTDOWN(RAMP_LIMITED_GEN) - SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H)))
         - (SUM(H$(ORD(H) GE ORD(INTERVAL) AND ORD(H) LE (ORD(INTERVAL) + SHUTDOWN_PERIOD(RAMP_LIMITED_GEN)-1)),UNIT_SHUTDOWN(RAMP_LIMITED_GEN,H))+ LAST_SHUTDOWN(RAMP_LIMITED_GEN))
         *GENVALUE(RAMP_LIMITED_GEN,"MIN_GEN")*((RTC_PROCESS_TIME+RTCINTERVAL_LENGTH)/(GENVALUE(RAMP_LIMITED_GEN,"SHUTDOWN_TIME")*60))
          - GEN_FORCED_OUT(RAMP_LIMITED_GEN)*GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")
         - GENVALUE(RAMP_LIMITED_GEN,"CAPACITY")*INITIAL_DISPATCH_SLACK("IGNORE_ACTUAL")
         - RAMP_DOWN_PENALTY(RAMP_LIMITED_GEN,INTERVAL)
;
=end
=start
Q_SU_INTERVAL1(GEN,INTERVAL)$(ORD(INTERVAL) EQ 1)..
UNIT_STARTUP(GEN,INTERVAL) - UNIT_SHUTDOWN(GEN,INTERVAL) =E= UNIT_STATUS(GEN,INTERVAL) - LAST_STATUS(GEN)
;
=end