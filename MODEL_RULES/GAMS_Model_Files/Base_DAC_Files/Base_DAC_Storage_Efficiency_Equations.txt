=start
Q_STORAGE_PUMP_EFFICIENCY1(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)..
CONVENTIONAL_PUMP_SCHEDULE(VARIABLE_EFFICIENCY_STORAGE,INTERVAL) =L= SUM(STORAGEPUMPEFFICIENCYBLOCK(G,EFFICIENCY_BLOCK)$(SAMEAS(VARIABLE_EFFICIENCY_STORAGE,G)),
         PUMP_EFFICIENCY_INDICATOR(G,INTERVAL,EFFICIENCY_BLOCK)*PUMP_EFFICIENCY_MW(G,EFFICIENCY_BLOCK))
;
=end
=start
Q_STORAGE_PUMP_EFFICIENCY2(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)..
CONVENTIONAL_PUMP_SCHEDULE(VARIABLE_EFFICIENCY_STORAGE,INTERVAL) =G= SUM(STORAGEPUMPEFFICIENCYBLOCK(G,EFFICIENCY_BLOCK)$(SAMEAS(VARIABLE_EFFICIENCY_STORAGE,G) AND ORD(EFFICIENCY_BLOCK) EQ 1),
         PUMP_EFFICIENCY_INDICATOR(G,INTERVAL,EFFICIENCY_BLOCK)*STORAGEVALUE(G,"MIN_PUMP"))
         + SUM(STORAGEPUMPEFFICIENCYBLOCK(G,EFFICIENCY_BLOCK)$(SAMEAS(VARIABLE_EFFICIENCY_STORAGE,G) AND ORD(EFFICIENCY_BLOCK) GT 1),
                 PUMP_EFFICIENCY_INDICATOR(G,INTERVAL,EFFICIENCY_BLOCK)*PUMP_EFFICIENCY_MW(G,EFFICIENCY_BLOCK-1))
;
=end
=start
Q_STORAGE_PUMP_EFFICIENCY3(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)..
SUM(STORAGEPUMPEFFICIENCYBLOCK(G,EFFICIENCY_BLOCK)$(SAMEAS(VARIABLE_EFFICIENCY_STORAGE,G)),PUMP_EFFICIENCY_INDICATOR(G,INTERVAL,EFFICIENCY_BLOCK)) =L= 1
;
=end
=start
Q_STORAGE_PUMP_EFFICIENCY4(STORAGEPUMPEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),INTERVAL)..
PUMP_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK) =L=
         PUMP_EFFICIENCY_INDICATOR(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK)*PUMP_EFFICIENCY_BLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK)*STORAGEVALUE(VARIABLE_EFFICIENCY_STORAGE,"MAX_PUMP")
;
=end
=start
Q_STORAGE_PUMP_EFFICIENCY5(STORAGEPUMPEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),INTERVAL)..
PUMP_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK) =G=
         PUMP_EFFICIENCY_INDICATOR(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK)*PUMP_EFFICIENCY_BLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK)*STORAGEVALUE(VARIABLE_EFFICIENCY_STORAGE,"MIN_PUMP")
;
=end
=start
Q_STORAGE_PUMP_EFFICIENCY6(STORAGEPUMPEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),INTERVAL)..
CONVENTIONAL_PUMP_SCHEDULE(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)*PUMP_EFFICIENCY_BLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK) - PUMP_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK)
         =L= (1 - PUMP_EFFICIENCY_INDICATOR(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK))*STORAGEVALUE(VARIABLE_EFFICIENCY_STORAGE,"MAX_PUMP")
;
=end
=start
Q_STORAGE_PUMP_EFFICIENCY7(STORAGEPUMPEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),INTERVAL)..
CONVENTIONAL_PUMP_SCHEDULE(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)*PUMP_EFFICIENCY_BLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK) - PUMP_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK)
         =G= 0
;
=end
=start
Q_STORAGE_PUMP_EFFICIENCY8(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)..
PUMP_EFFICIENCY(VARIABLE_EFFICIENCY_STORAGE,INTERVAL) =E= SUM(STORAGEPUMPEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),PUMP_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK))
;
=end
=start
Q_STORAGE_PUMP_EFFICIENCY9(CONSTANT_EFFICIENCY_STORAGE,INTERVAL)..
PUMP_EFFICIENCY(CONSTANT_EFFICIENCY_STORAGE,INTERVAL) =E= STORAGEVALUE(CONSTANT_EFFICIENCY_STORAGE,"EFFICIENCY")*CONVENTIONAL_PUMP_SCHEDULE(CONSTANT_EFFICIENCY_STORAGE,INTERVAL)
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY1(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)..
GEN_SCHEDULE(VARIABLE_EFFICIENCY_STORAGE,INTERVAL) =L= SUM(STORAGEGENEFFICIENCYBLOCK(G,EFFICIENCY_BLOCK)$(SAMEAS(VARIABLE_EFFICIENCY_STORAGE,G)),
         GEN_EFFICIENCY_INDICATOR(G,INTERVAL,EFFICIENCY_BLOCK)*GEN_EFFICIENCY_MW(G,EFFICIENCY_BLOCK))
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY2(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)..
GEN_SCHEDULE(VARIABLE_EFFICIENCY_STORAGE,INTERVAL) =G= SUM(STORAGEGENEFFICIENCYBLOCK(G,EFFICIENCY_BLOCK)$(SAMEAS(VARIABLE_EFFICIENCY_STORAGE,G) AND ORD(EFFICIENCY_BLOCK) EQ 1),
         GEN_EFFICIENCY_INDICATOR(G,INTERVAL,EFFICIENCY_BLOCK)*GENVALUE(G,"MIN_GEN"))
         + SUM(STORAGEGENEFFICIENCYBLOCK(G,EFFICIENCY_BLOCK)$(SAMEAS(VARIABLE_EFFICIENCY_STORAGE,G) AND ORD(EFFICIENCY_BLOCK) GT 1),
                 GEN_EFFICIENCY_INDICATOR(G,INTERVAL,EFFICIENCY_BLOCK)*GEN_EFFICIENCY_MW(G,EFFICIENCY_BLOCK-1))
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY3(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)..
SUM(STORAGEGENEFFICIENCYBLOCK(G,EFFICIENCY_BLOCK)$(SAMEAS(VARIABLE_EFFICIENCY_STORAGE,G)),GEN_EFFICIENCY_INDICATOR(G,INTERVAL,EFFICIENCY_BLOCK)) =L= 1
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY4(STORAGEGENEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),INTERVAL)..
GEN_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK) =L=
         GEN_EFFICIENCY_INDICATOR(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK)*GEN_EFFICIENCY_BLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK)*GENVALUE(VARIABLE_EFFICIENCY_STORAGE,"CAPACITY")
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY5(STORAGEGENEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),INTERVAL)..
GEN_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK) =G=
         GEN_EFFICIENCY_INDICATOR(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK)*GEN_EFFICIENCY_BLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK)*GENVALUE(VARIABLE_EFFICIENCY_STORAGE,"MIN_GEN")
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY6(STORAGEGENEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),INTERVAL)..
GEN_SCHEDULE(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)*GEN_EFFICIENCY_BLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK) - GEN_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK)
         =L= (1 - GEN_EFFICIENCY_INDICATOR(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK))*GENVALUE(VARIABLE_EFFICIENCY_STORAGE,"CAPACITY")
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY7(STORAGEGENEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),INTERVAL)..
GEN_SCHEDULE(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)*GEN_EFFICIENCY_BLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK) - GEN_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK)
         =G= 0
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY8(VARIABLE_EFFICIENCY_STORAGE,INTERVAL)..
GEN_EFFICIENCY(VARIABLE_EFFICIENCY_STORAGE,INTERVAL) =E= SUM(STORAGEGENEFFICIENCYBLOCK(VARIABLE_EFFICIENCY_STORAGE,EFFICIENCY_BLOCK),GEN_EFFICIENCY_HELPER(VARIABLE_EFFICIENCY_STORAGE,INTERVAL,EFFICIENCY_BLOCK))
;
=end
=start
Q_STORAGE_GEN_EFFICIENCY9(CONSTANT_EFFICIENCY_STORAGE,INTERVAL)..
GEN_EFFICIENCY(CONSTANT_EFFICIENCY_STORAGE,INTERVAL) =E= GEN_SCHEDULE(CONSTANT_EFFICIENCY_STORAGE,INTERVAL)
;
=end
