=start
$IFI '%NETWORK_CHECK%' == YES Q_TRANSMISSION_CONSTRAINT1(BRANCH,INTERVAL)..
$IFI '%NETWORK_CHECK%' == YES LINEFLOW(BRANCH,INTERVAL) =L= BRANCHDATA(BRANCH,"LINE_RATING") + BRANCH_SLACK1(BRANCH,INTERVAL)
$IFI '%NETWORK_CHECK%' == YES ;
=end
=start
$IFI '%NETWORK_CHECK%' == YES Q_TRANSMISSION_CONSTRAINT2(BRANCH,INTERVAL)..
$IFI '%NETWORK_CHECK%' == YES LINEFLOW(BRANCH,INTERVAL) =G= -1*BRANCHDATA(BRANCH,"LINE_RATING") -BRANCH_SLACK2(BRANCH,INTERVAL)
$IFI '%NETWORK_CHECK%' == YES ;
=end
=start
Q_LOAD_BALANCE(INTERVAL)..
SUM(GEN,GEN_DELIVERY_FACTORS(GEN,INTERVAL)*(GEN_SCHEDULE(GEN,INTERVAL)-CONVENTIONAL_PUMP_SCHEDULE(GEN,INTERVAL)))
         =E= SUM(BUS,BUS_DELIVERY_FACTORS(BUS,INTERVAL)*LOAD(INTERVAL)*LOAD_DIST(BUS)) - LOSS_LOAD(INTERVAL) + ADDITIONAL_LOAD_SLACK(INTERVAL)  + LOSS_BIAS;
=end
=start
Q_RESERVE_TOTAL(INTERVAL,RESERVETYPE)..
TOTAL_RESERVE(INTERVAL,RESERVETYPE) =E= SUM(GEN,GEN_RESERVE_SCHEDULE(GEN,INTERVAL,RESERVETYPE))
         + SUM(R$(ORD(R) EQ RESERVEVALUE(RESERVETYPE,"RESERVE_INCLUSIVE")),TOTAL_RESERVE(INTERVAL,R))
;
=end
=start
Q_RESERVE_BALANCE(INTERVAL,RESERVETYPE)..
TOTAL_RESERVE(INTERVAL,RESERVETYPE)         + INSUFFICIENT_RESERVE(INTERVAL,RESERVETYPE)
         + RESERVEVALUE(RESERVETYPE,"RESERVE_GOV")*SYSTEMVALUE("LOAD_DAMPING")*(LOAD(INTERVAL)-LOSS_LOAD(INTERVAL))*
         DAMPING_MULTIPLIER(INTERVAL,RESERVETYPE)*(SYSTEMVALUE("DFMAX")/SYSTEMVALUE("FREQUENCY"))
         + RESERVEVALUE(RESERVETYPE,"RESERVE_INERTIA")*SYSTEMVALUE("INERTIALOAD")*(LOAD(INTERVAL)-LOSS_LOAD(INTERVAL))
         =G= RESERVELEVEL(INTERVAL,RESERVETYPE)
;
=end
=start
Q_RESERVE_BALANCE2(INTERVAL,RESERVETYPE)..
TOTAL_RESERVE(INTERVAL,RESERVETYPE)         + INSUFFICIENT_RESERVE(INTERVAL,RESERVETYPE)
         + RESERVEVALUE(RESERVETYPE,"RESERVE_GOV")*SYSTEMVALUE("LOAD_DAMPING")*(LOAD(INTERVAL)-LOSS_LOAD(INTERVAL))*
         DAMPING_MULTIPLIER(INTERVAL,RESERVETYPE)*(SYSTEMVALUE("DFMAX")/SYSTEMVALUE("FREQUENCY"))
         + RESERVEVALUE(RESERVETYPE,"RESERVE_INERTIA")*SYSTEMVALUE("INERTIALOAD")*(LOAD(INTERVAL)-LOSS_LOAD(INTERVAL))
         =L= RESERVELEVEL(INTERVAL,RESERVETYPE)*10000
;
=end